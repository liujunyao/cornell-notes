# 康奈尔笔记应用 - 原型设计总结 & Figma导出指南

## 一、原型设计项目结构

本项目的原型设计分为以下几个部分，按优先级组织：

### 1. 第一阶段（P0 - MVP核心）- 需要高保真原型

**首页（Home）**
- 搜索功能 + 快捷入口 + 笔记列表
- 原型文件名：`01-HomePage-P0.fig`

**笔记编辑页（Note Editor）**
- 三分栏布局（线索栏、笔记栏、总结栏）
- 工具栏 + 高亮管理
- 自动保存状态提示
- 原型文件名：`02-NoteEditor-P0.fig`

**复习页面（Review - 基础模式）**
- 遮盖式背诵模式
- 完成复习报告弹窗
- 原型文件名：`03-ReviewBasic-P0.fig`

**个人中心（Profile）**
- 个人信息展示
- 学习统计
- 功能菜单
- 原型文件名：`04-Profile-P0.fig`

**公共组件库**
- 原型文件名：`Components-Library-P0.fig`
- 包含：按钮、输入框、弹窗、菜单、导航栏等

### 2. 第二阶段（P1 - 增值功能）- 中保真原型

**复习页面（Review - 进阶/高阶模式）**
- 原型文件名：`03-ReviewAdvanced-P1.fig`

**AI功能面板与生成展示**
- 线索栏AI提炼、总结栏AI生成、自动高亮
- 原型文件名：`05-AIFeatures-P1.fig`

**协作编辑与分享**
- 多人协作编辑页面
- 分享与导出对话框
- 原型文件名：`06-Collaboration-P1.fig`

**复习计划与提醒**
- 复习列表 + 艾宾浩斯日历
- 原型文件名：`07-ReviewPlan-P1.fig`

### 3. 第三阶段（P2 - 迭代优化）- 线框图

**教师班级管理**
- 原型文件名：`08-TeacherDashboard-P2.fig`

**数据备份与设置**
- 原型文件名：`09-Settings-P2.fig`

---

## 二、Figma项目组织规范

### 2.1 文件夹结构

```
Cornell Notes Prototype
├─ 01-Design-System
│  ├─ Colors
│  ├─ Typography
│  ├─ Spacing
│  └─ Components-Library
│
├─ 02-P0-MVP
│  ├─ 01-HomePage-P0
│  ├─ 02-NoteEditor-P0
│  ├─ 03-ReviewBasic-P0
│  ├─ 04-Profile-P0
│  └─ Shared-Components
│
├─ 03-P1-Features
│  ├─ 03-ReviewAdvanced-P1
│  ├─ 05-AIFeatures-P1
│  ├─ 06-Collaboration-P1
│  └─ 07-ReviewPlan-P1
│
└─ 04-P2-Optimization
   ├─ 08-TeacherDashboard-P2
   └─ 09-Settings-P2
```

### 2.2 画布规范

每个文件内的画布组织：

```
Canvas标签：
├─ Mobile-Frame (375×812)
│  ├─ State-1: Default
│  ├─ State-2: Loading
│  └─ State-3: Interaction
│
├─ Tablet-Frame (768×1024)
│  ├─ Landscape-Frame (1024×768)
│  └─ ...
│
└─ Desktop-Frame (1920×1080)
   └─ ...
```

### 2.3 图层命名规范

**格式**：`[功能]-[组件]-[状态]-[优先级]`

示例：
```
Button-NewNote-Hover-P0
InputBox-SearchQuery-Focused-P0
HighlightIndex-CorePoint-Default-P0
ToolBar-FormatButton-Active-P0
```

### 2.4 组件创建规范

**主组件命名**：`★组件类型/功能/状态`

```
★Button/Primary/Default
★Button/Primary/Hover
★Button/Primary/Active
★Button/Primary/Disabled

★Input/SearchBox/Default
★Input/SearchBox/Focused
★Input/SearchBox/WithQuery

★Highlight/CorePoint/Index
★Highlight/Problem/Index
★Highlight/Case/Index

★ToolBar/BaseFormat/Default
★ToolBar/HighlightColor/Picker
```

**组件实例引用**：`组件类型/功能/状态`（自动生成）

---

## 三、高保真原型设计清单

### P0 页面详细标注检查表

#### 首页（HomePage）
- [ ] 搜索框：输入状态、焦点状态、清除按钮
- [ ] 快捷按钮：默认/hover/按下状态
- [ ] 快捷入口卡片：3个卡片完整设计
- [ ] 笔记列表卡片：显示完整信息、操作菜单（3个演示卡片）
- [ ] 导航栏：4个选项、激活状态突出显示
- [ ] 空状态：无笔记时的提示页面
- [ ] 加载状态：数据加载中的骨架屏

#### 笔记编辑页（NoteEditor）
- [ ] 标题栏：标题输入框、操作按钮（返回/AI/分享）
- [ ] 三栏布局：
  - [ ] 线索栏：输入框、AI提炼按钮、高亮索引条
  - [ ] 笔记栏：富文本区域、工具栏（悬浮演示）
  - [ ] 总结栏：两列布局、AI生成按钮
- [ ] 工具栏详设：含6个功能按钮、高亮颜色选择器展开状态
- [ ] 高亮效果：5种颜色的高亮样式演示
- [ ] 多媒体插入：图片/视频/公式插入后的显示效果
- [ ] 保存状态：已保存/同步中/离线编辑的提示

#### 复习页面-基础模式（ReviewBasic）
- [ ] 模式切换按钮：3个模式选项、当前模式突出
- [ ] 遮盖效果：笔记栏半透明遮盖、解锁前后对比
- [ ] 解锁按钮交互：逐行解锁演示
- [ ] 星标交互：标记薄弱点的按钮状态
- [ ] 完成复习报告弹窗：含复习时长/正确率/薄弱点列表
- [ ] 报告按钮：已掌握/未掌握状态

#### 个人中心（Profile）
- [ ] 头像区：头像、用户名、编辑按钮
- [ ] 统计卡片：4个统计项的完整显示
- [ ] 菜单项：6个主菜单 + 4个设置菜单、点击态演示
- [ ] 个性化菜单：展开/收起状态
- [ ] 底部导航：当前页面激活态

#### 公共组件库
- [ ] 按钮：
  - [ ] Primary（蓝色主按钮）：默认/hover/按下/禁用
  - [ ] Secondary（次按钮）：默认/hover/按下
  - [ ] Danger（危险操作）：默认/hover/按下
  - [ ] Icon Button（图标按钮）：默认/hover/激活
- [ ] 输入框：
  - [ ] TextInput：默认/焦点/禁用/错误
  - [ ] SearchBox：默认/焦点/输入/清除
  - [ ] TextArea：默认/焦点/内容过多（滚动）
- [ ] 高亮颜色：5种高亮色块 + 对应索引条
- [ ] 弹窗：确认/警告/加载 3种类型
- [ ] 菜单项：单行菜单的标准设计
- [ ] 工具栏：按钮组合、分隔线
- [ ] 导航栏：底部导航栏所有组件

### 多端适配设计

#### 移动端补充设计
- [ ] 竖屏标签切换：线索/笔记/总结三个标签
- [ ] 下拉/上滑手势提示
- [ ] 触摸目标尺寸：≥44×44px

#### 平板端补充设计
- [ ] 横屏线索栏抽屉：打开/关闭状态
- [ ] 双列列表视图
- [ ] 侧边预览面板（如有）

#### PC端补充设计
- [ ] 分栏宽度调整手柄
- [ ] 右侧日历或预览面板
- [ ] 鼠标hover效果

---

## 四、Figma导出与交付规范

### 4.1 导出前检查清单

```
设计完成后，导出前检查：

基础检查：
- [ ] 所有文字是否使用了样式变量（不直接设置颜色/字号）
- [ ] 所有颜色是否使用了颜色变量（不直接输入HEX）
- [ ] 是否存在"画布外"的元素
- [ ] 元素是否对齐到网格（8px基准）
- [ ] 是否有重复的组件（应合并为主组件）

交互检查：
- [ ] 所有交互热区是否标注清晰
- [ ] 页面跳转是否关联正确
- [ ] 弹窗和模态是否设置了背景遮罩交互
- [ ] 动画效果是否有备注说明

标注检查：
- [ ] 关键数字（尺寸/间距）是否标注
- [ ] 颜色值是否标注（HEX）
- [ ] 字号是否标注（含行高）
- [ ] 交互逻辑是否有备注说明
- [ ] 响应式断点是否标注
```

### 4.2 导出文件类型

**生成以下文件供开发参考**：

1. **Figma链接**（优先）
   - 导出为可分享链接
   - 设置权限为"可查看"
   - 文件名：`Cornell Notes Prototype - [版本号]`

2. **PDF标注版**
   - 导出每个页面为PDF
   - 包含所有标注和尺寸信息
   - 文件名：`01-HomePage-Annotated-P0.pdf`

3. **组件库规范文档**
   - 导出组件库截图
   - 标注组件的使用规范
   - 文件名：`Components-Library-Guide.md`

4. **交互流程文档**
   - 生成页面跳转关系图
   - 标注所有交互路径
   - 文件名：`Interaction-Flow-Diagram.md`

### 4.3 团队协作设置

**Figma权限设置**：
- 设计师：编辑权限
- 前端开发：查看权限
- 产品经理：编辑权限
- 项目管理：查看权限

**版本控制**：
- 在文件名后加版本号：`v1.0`、`v1.1-beta`
- 定期打版本快照（Figma内的版本历史）
- 主要迭代后标记为"稳定版"

---

## 五、原型到开发的交接流程

### 第一步：完成设计阶段（1周）
1. 完成P0所有页面的高保真原型
2. 标注所有尺寸、颜色、字号
3. 记录所有交互和动画效果
4. 创建组件库并导出使用规范

### 第二步：设计评审（2-3天）
1. 内部设计评审：检查设计规范一致性
2. 产品经理评审：确认功能流程准确性
3. 修改反馈，更新设计

### 第三步：前端框架搭建（1周）
1. 前端根据原型搭建页面框架（HTML/JSX）
2. 使用设计规范创建样式系统（CSS/Tailwind）
3. 参考交互流程创建路由结构

### 第四步：组件开发（2-3周）
1. 前端按优先级开发UI组件
2. 参考Figma的组件库组织代码结构
3. 设计师配合验收，确保还原度≥95%

### 第五步：集成测试（1周）
1. 测试所有页面的响应式效果
2. 测试交互逻辑（点击、跳转、提示等）
3. 验证在各端（移动/平板/PC）的显示效果

### 第六步：迭代优化（持续）
1. 收集用户反馈
2. 更新原型设计
3. 持续优化前端实现

---

## 六、设计资源清单

### 需要准备的资源

1. **图标库**
   - 格式：SVG或PNG（@2x @3x）
   - 尺寸：24px、36px、48px（常用尺寸）
   - 来源：可使用开源图标库（如 Iconify、Feather Icons）
   - 图标包括：首页、笔记、复习、用户、设置、返回、分享等

2. **插画/品牌素材**
   - 空状态插画（无笔记、无待复习等）
   - Logo和应用icon
   - 加载动画资源

3. **字体**
   - 中文：思源黑体（开源）
   - 英文：系统默认字体

### 字体下载链接
- 思源黑体：https://github.com/adobe-fonts/source-han-sans
- Figma内置：Google Fonts（包含多种开源字体）

---

## 七、后续设计迭代建议

### V1.0 发布后

1. **用户测试反馈**
   - 收集10-20个实际用户的使用体验反馈
   - 重点关注：三分栏布局清晰度、工具栏易用性、复习流程流畅度

2. **A/B测试**
   - 针对争议性设计做A/B测试（如高亮颜色、按钮位置等）
   - 根据数据调整

3. **设计优化清单**
   - 整理常见问题反馈
   - 优先级排序
   - 制定V1.1优化计划

4. **组件库丰富**
   - 根据实际开发需求补充新组件
   - 不断完善设计系统

---

## 八、设计规范文档汇总

已生成的相关文档：

| 文档名称 | 位置 | 说明 |
|---------|------|------|
| 功能模块与用户流程 | `/design/prototypes/` | 详细的功能流程和用户交互路径 |
| 页面原型框架与设计规范 | `/design/prototypes/` | 每个页面的布局、组件、交互详解 |
| 核心功能清单 | `/docs/product-design/` | 功能优先级和交互逻辑矩阵 |
| 产品设计建议 | `/docs/product-design/` | 5R笔记法整体产品方案 |
| 设计规范 | `/design/README.md` | 色彩、字体、间距、高亮系统 |

---

## 九、与开发团队的协调事项

### 前端框架建议

基于本原型设计，推荐前端使用：

```
Web 端：React + TypeScript + Tailwind CSS
  ├─ 组件库：shadcn/ui（与设计规范对齐）
  ├─ 状态管理：Zustand（简单高效）
  ├─ 数据获取：TanStack Query（处理API同步）
  └─ 路由：React Router v6（支持嵌套路由）

Mobile 端：React + TypeScript + Tailwind CSS
  └─ （与Web端共用大部分代码，响应式设计适配）
```

### 后端API设计对接

设计团队已定义的关键API端点（参考`/docs/system-design/`）：

```
POST /api/v1/auth/register          # 注册
POST /api/v1/auth/login             # 登录
GET  /api/v1/notes                  # 获取笔记列表
POST /api/v1/notes                  # 创建笔记
PUT  /api/v1/notes/{id}             # 更新笔记
GET  /api/v1/notes/{id}/review      # 获取复习数据
POST /api/v1/notes/{id}/review      # 提交复习记录
...
```

详见：`/docs/system-design/api-design.md`（待补充）

---

这份文档可作为Figma设计项目的完整交付说明。后续可将此文档与Figma文件链接一起发送给开发团队。

