<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é¦–é¡µ - åº·å¥ˆå°”ç¬”è®°å­¦ä¹ åŠ©æ‰‹</title>
  <link rel="stylesheet" href="../css/design-system.css">
  <style>
    /* PC/å¹³æ¿ä¼˜å…ˆçš„å·¦ä¾§å¯¼èˆªå¸ƒå±€ */
    body {
      overflow: hidden;
    }

    .app-container {
      display: flex;
      height: 100vh;
      background: var(--color-background);
    }

    /* å·¦ä¾§å¯¼èˆªæ ï¼ˆå‚ç›´å›¾æ ‡èœå•ï¼‰*/
    .sidebar-nav {
      width: 80px;
      background: var(--color-white);
      border-right: 1px solid var(--color-gray-300);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: var(--spacing-md) 0;
      flex-shrink: 0;
    }

    .app-logo {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: var(--spacing-xl);
      cursor: pointer;
    }

    .nav-menu {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
      width: 100%;
      align-items: center;
    }

    .nav-item {
      width: 56px;
      height: 56px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-base);
      text-decoration: none;
      color: var(--color-gray-500);
      position: relative;
    }

    .nav-item:hover {
      background: var(--color-background);
      color: var(--color-primary);
    }

    .nav-item.active {
      background: rgba(67, 97, 238, 0.1);
      color: var(--color-primary);
    }

    .nav-item.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 8px;
      bottom: 8px;
      width: 3px;
      background: var(--color-primary);
      border-radius: 0 2px 2px 0;
    }

    .nav-icon {
      font-size: 24px;
    }

    .nav-label {
      font-size: 11px;
      font-weight: 500;
    }

    /* ä¸»å†…å®¹åŒºåŸŸ */
    .main-content {
      flex: 1;
      display: flex;
      overflow: hidden;
    }

    /* å·¦ä¾§é¢æ¿ï¼ˆç¬”è®°åˆ—è¡¨ã€åˆ†ç±»ï¼‰*/
    .content-sidebar {
      width: 320px;
      background: var(--color-white);
      border-right: 1px solid var(--color-gray-300);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
    }

    .sidebar-header {
      padding: var(--spacing-lg) var(--spacing-md);
      border-bottom: 1px solid var(--color-gray-300);
    }

    .sidebar-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-md);
    }

    .sidebar-title {
      font-size: var(--font-size-h1-mobile);
      font-weight: 700;
      color: var(--color-gray-900);
    }

    .new-category-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-sm);
      font-size: 18px;
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .new-category-btn:hover {
      background: var(--color-primary-dark);
      transform: scale(1.05);
    }

    /* Tab æ ‡ç­¾é¡µ */
    .view-tabs {
      display: flex;
      gap: 0;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--color-gray-300);
    }

    .view-tab {
      flex: 1;
      padding: var(--spacing-sm) var(--spacing-md);
      border: none;
      background: transparent;
      color: var(--color-gray-500);
      font-size: var(--font-size-base-mobile);
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition-base);
      border-bottom: 2px solid transparent;
      position: relative;
      top: 1px;
    }

    .view-tab:hover {
      color: var(--color-gray-700);
      background: rgba(0, 0, 0, 0.02);
    }

    .view-tab.active {
      color: var(--color-primary);
      border-bottom-color: var(--color-primary);
    }

    .search-box {
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 10px 12px 10px 36px;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base-mobile);
      background: var(--color-background);
      transition: all var(--transition-base);
    }

    .search-input:focus {
      outline: none;
      border-color: var(--color-primary);
      background: var(--color-white);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--color-gray-500);
      font-size: 16px;
    }

    .sidebar-content {
      flex: 1;
      overflow-y: auto;
      padding: var(--spacing-md);
    }

    .category-section {
      margin-bottom: var(--spacing-lg);
    }

    .category-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-sm);
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: background var(--transition-base);
      position: relative;
    }

    .category-header:hover {
      background: var(--color-background);
    }

    .category-header:hover .category-actions {
      opacity: 1;
    }

    .category-title-row {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      flex: 1;
    }

    .category-title {
      font-size: var(--font-size-base-desktop);
      font-weight: 600;
      color: var(--color-gray-700);
    }

    .category-actions {
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity var(--transition-base);
    }

    .category-action-btn {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      border-radius: var(--radius-sm);
      color: var(--color-gray-500);
      font-size: 14px;
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .category-action-btn:hover {
      background: var(--color-white);
      color: var(--color-primary);
    }

    .category-count {
      font-size: var(--font-size-small-mobile);
      color: var(--color-gray-500);
      background: var(--color-background);
      padding: 2px 8px;
      border-radius: var(--radius-full);
    }

    .note-list-item {
      padding: var(--spacing-sm);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all var(--transition-base);
      margin-bottom: 4px;
      position: relative;
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .note-list-item:hover {
      background: var(--color-background);
    }

    .note-list-item:hover .note-item-actions {
      opacity: 1;
    }

    .note-list-item.active {
      background: rgba(67, 97, 238, 0.1);
      border-left: 3px solid var(--color-primary);
    }

    .note-list-content {
      flex: 1;
      min-width: 0;
    }

    .note-list-title {
      font-size: var(--font-size-base-mobile);
      font-weight: 500;
      color: var(--color-gray-900);
      margin-bottom: 4px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .note-list-meta {
      font-size: var(--font-size-small-mobile);
      color: var(--color-gray-500);
    }

    .note-item-actions {
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity var(--transition-base);
    }

    .note-action-btn {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      border-radius: var(--radius-sm);
      color: var(--color-gray-500);
      font-size: 14px;
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .note-action-btn:hover {
      background: var(--color-white);
      color: var(--color-primary);
    }

    /* å³ä¾§ä¸»é¢æ¿ï¼ˆç¬”è®°è¯¦æƒ…/é¢„è§ˆï¼‰*/
    .main-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: var(--color-white);
      overflow: hidden;
    }

    .panel-header {
      padding: var(--spacing-lg) var(--spacing-xl);
      border-bottom: 1px solid var(--color-gray-300);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .panel-header-left {
      flex: 1;
    }

    .panel-title {
      font-size: var(--font-size-h1-desktop);
      font-weight: 700;
      color: var(--color-gray-900);
      margin-bottom: 4px;
    }

    .panel-meta {
      font-size: var(--font-size-small-desktop);
      color: var(--color-gray-500);
      display: flex;
      gap: var(--spacing-md);
    }

    .panel-actions {
      display: flex;
      gap: var(--spacing-sm);
    }

    .panel-content {
      flex: 1;
      overflow-y: auto;
      padding: var(--spacing-xl);
    }

    /* åº·å¥ˆå°”ç¬”è®°ä¸‰è¦ç´ é¢„è§ˆ */
    .cornell-preview {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-lg);
    }

    .cornell-preview-top {
      display: flex;
      gap: var(--spacing-lg);
      height: 400px;
    }

    /* çº¿ç´¢æ ï¼ˆå·¦ä¾§ 25%ï¼‰ */
    .cornell-cue-section {
      flex: 0 0 25%;
      background: var(--color-sidebar);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      border-left: 4px solid var(--color-accent);
      display: flex;
      flex-direction: column;
    }

    /* ç¬”è®°æ ï¼ˆå³ä¾§ 75%ï¼‰ */
    .cornell-notes-section {
      flex: 1;
      background: var(--color-white);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      border: 1px solid var(--color-gray-300);
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }

    /* æ€»ç»“æ ï¼ˆåº•éƒ¨ï¼Œå…¨å®½ï¼‰ */
    .cornell-summary-section {
      background: var(--color-background);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      border-left: 4px solid var(--color-primary);
      min-height: 120px;
    }

    /* åº·å¥ˆå°”ç¬”è®°åŒºåŸŸæ ‡ç­¾ */
    .cornell-section-label {
      font-size: var(--font-size-base-desktop);
      font-weight: 600;
      color: var(--color-gray-900);
      margin-bottom: var(--spacing-sm);
      padding-bottom: var(--spacing-sm);
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    /* åº·å¥ˆå°”ç¬”è®°åŒºåŸŸå†…å®¹ */
    .cornell-section-content {
      flex: 1;
      overflow-y: auto;
      font-size: var(--font-size-base-desktop);
      line-height: 1.6;
      color: var(--color-gray-700);
    }

    .cornell-section-content p {
      margin-bottom: var(--spacing-sm);
    }

    .cornell-section-content ul {
      list-style-position: inside;
    }

    .cornell-section-content li {
      margin-bottom: 4px;
    }

    /* çº¿ç´¢æ é¡¹ç›® */
    .cue-item {
      padding: var(--spacing-xs) 0;
      font-size: var(--font-size-base-desktop);
      color: var(--color-gray-900);
      line-height: 1.5;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .cue-item:last-child {
      border-bottom: none;
    }

    /* å¿«æ·ç»Ÿè®¡å¡ç‰‡ */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-xl);
    }

    .stat-card {
      background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
      padding: var(--spacing-lg);
      border-radius: var(--radius-md);
      color: white;
      transition: all var(--transition-base);
      cursor: pointer;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
    }

    .stat-card-accent {
      background: linear-gradient(135deg, var(--color-accent) 0%, #FFC947 100%);
    }

    .stat-card-success {
      background: linear-gradient(135deg, var(--color-success) 0%, #34D399 100%);
    }

    .stat-value {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: var(--font-size-small-desktop);
      opacity: 0.9;
    }

    /* ç¬”è®°å¡ç‰‡ç½‘æ ¼ */
    .notes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: var(--spacing-md);
    }

    .note-card {
      background: var(--color-white);
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      cursor: pointer;
      transition: all var(--transition-base);
      text-decoration: none;
      color: inherit;
    }

    .note-card:hover {
      border-color: var(--color-primary);
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    .note-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--spacing-sm);
    }

    .note-card-title {
      font-size: var(--font-size-base-desktop);
      font-weight: 600;
      color: var(--color-gray-900);
      flex: 1;
    }

    .note-card-star {
      color: var(--color-accent);
      font-size: 18px;
    }

    .note-card-preview {
      font-size: var(--font-size-small-desktop);
      color: var(--color-gray-700);
      line-height: 1.6;
      margin-bottom: var(--spacing-sm);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .note-card-footer {
      display: flex;
      gap: var(--spacing-md);
      font-size: var(--font-size-small-mobile);
      color: var(--color-gray-500);
    }

    /* ç©ºçŠ¶æ€ */
    .empty-state {
      text-align: center;
      padding: var(--spacing-2xl);
      color: var(--color-gray-500);
    }

    .empty-icon {
      font-size: 64px;
      margin-bottom: var(--spacing-md);
      opacity: 0.5;
    }

    .empty-text {
      font-size: var(--font-size-base-desktop);
      margin-bottom: var(--spacing-md);
    }

    /* å“åº”å¼ï¼šç§»åŠ¨ç«¯å›é€€åˆ°åº•éƒ¨å¯¼èˆª */
    @media (max-width: 767px) {
      .sidebar-nav {
        display: none;
      }

      .content-sidebar {
        width: 100%;
        border-right: none;
      }

      .main-panel {
        display: none;
      }

      /* æ˜¾ç¤ºåº•éƒ¨å¯¼èˆª */
      .bottom-nav {
        display: flex !important;
      }
    }

    @media (min-width: 768px) and (max-width: 1023px) {
      .content-sidebar {
        width: 280px;
      }
    }

    /* ä¸Šä¸‹æ–‡èœå• */
    .context-menu {
      display: none;
      position: fixed;
      background: var(--color-white);
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      min-width: 160px;
      z-index: 1000;
      padding: var(--spacing-xs) 0;
    }

    .context-menu.show {
      display: block;
    }

    .context-menu-item {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      padding: var(--spacing-sm) var(--spacing-md);
      font-size: var(--font-size-base-mobile);
      color: var(--color-gray-700);
      cursor: pointer;
      transition: background var(--transition-base);
      border: none;
      background: none;
      width: 100%;
      text-align: left;
    }

    .context-menu-item:hover {
      background: var(--color-background);
      color: var(--color-primary);
    }

    .context-menu-item.danger:hover {
      background: rgba(239, 68, 68, 0.1);
      color: var(--color-emphasis);
    }

    .context-menu-divider {
      height: 1px;
      background: var(--color-gray-300);
      margin: var(--spacing-xs) 0;
    }

    /* æ¨¡æ€æ¡† */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-md);
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      padding: var(--spacing-xl);
      max-width: 400px;
      width: 100%;
      box-shadow: var(--shadow-lg);
    }

    .modal-title {
      font-size: var(--font-size-h2-mobile);
      font-weight: 700;
      color: var(--color-gray-900);
      margin-bottom: var(--spacing-md);
    }

    .modal-body {
      margin-bottom: var(--spacing-lg);
    }

    .modal-input {
      width: 100%;
      padding: var(--spacing-sm) var(--spacing-md);
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base-mobile);
      transition: all var(--transition-base);
    }

    .modal-input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .modal-select {
      width: 100%;
      padding: var(--spacing-sm) var(--spacing-md);
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base-mobile);
      background: var(--color-white);
      cursor: pointer;
    }

    .modal-actions {
      display: flex;
      gap: var(--spacing-sm);
      justify-content: flex-end;
    }

    .modal-btn {
      padding: var(--spacing-sm) var(--spacing-lg);
      border: none;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base-mobile);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .modal-btn-cancel {
      background: var(--color-background);
      color: var(--color-gray-700);
    }

    .modal-btn-cancel:hover {
      background: var(--color-gray-300);
    }

    .modal-btn-primary {
      background: var(--color-primary);
      color: white;
    }

    .modal-btn-primary:hover {
      background: var(--color-primary-dark);
    }
</style>
</head>
<body>
  <div class="app-container">
    <!-- å·¦ä¾§å‚ç›´å¯¼èˆªæ  -->
    <aside class="sidebar-nav">
      <div class="app-logo">C</div>

      <nav class="nav-menu">
        <a href="index.html" class="nav-item">
          <span class="nav-icon">ğŸ </span>
          <span class="nav-label">é¦–é¡µ</span>
        </a>
        <a href="notes.html" class="nav-item active">
          <span class="nav-icon">ğŸ“</span>
          <span class="nav-label">ç¬”è®°</span>
        </a>
        <a href="review.html" class="nav-item">
          <span class="nav-icon">ğŸ“–</span>
          <span class="nav-label">å¤ä¹ </span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon">â­</span>
          <span class="nav-label">æ”¶è—</span>
        </a>
        <a href="#" class="nav-item">
          <span class="nav-icon">ğŸ‘¥</span>
          <span class="nav-label">åä½œ</span>
        </a>
      </nav>

      <a href="profile.html" class="nav-item">
        <span class="nav-icon">ğŸ‘¤</span>
        <span class="nav-label">æˆ‘çš„</span>
      </a>
    </aside>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
      <!-- å·¦ä¾§é¢æ¿ï¼ˆç¬”è®°åˆ—è¡¨ï¼‰-->
      <aside class="content-sidebar">
        <div class="sidebar-header">
          <div class="sidebar-title-row">
            <h1 class="sidebar-title">æˆ‘çš„ç¬”è®°</h1>
            <button class="new-category-btn" id="newCategoryBtn" title="æ–°å»ºåˆ†ç±»">
              +
            </button>
          </div>

          <!-- Tab åˆ‡æ¢ -->
          <div class="view-tabs">
            <button class="view-tab active" data-view="recent" id="recentTab">
              ğŸ“… æœ€è¿‘ç¼–è¾‘
            </button>
            <button class="view-tab" data-view="category" id="categoryTab">
              ğŸ“ æŒ‰åˆ†ç±»
            </button>
          </div>

          <div class="search-box">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" placeholder="æœç´¢ç¬”è®°..." />
          </div>
        </div>

        <div class="sidebar-content">
          <!-- è§†å›¾ 1ï¼šæœ€è¿‘ç¼–è¾‘ -->
          <div class="view-content" data-view="recent" style="display: block;">
            <div class="note-list-item" data-note-id="1">
              <div class="note-list-content">
                <div class="note-list-title">åº·å¥ˆå°”ç¬”è®°æ³•ä»‹ç»</div>
                <div class="note-list-meta">ä»Šå¤© 14:32 Â· 2450å­—</div>
              </div>
              <div class="note-item-actions">
                <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                  â‹®
                </button>
              </div>
            </div>
            <div class="note-list-item" data-note-id="2">
              <div class="note-list-content">
                <div class="note-list-title">5R ç¬”è®°æ³•è¯¦è§£</div>
                <div class="note-list-meta">æ˜¨å¤© 16:20 Â· 1820å­—</div>
              </div>
              <div class="note-item-actions">
                <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                  â‹®
                </button>
              </div>
            </div>
            <div class="note-list-item" data-note-id="3">
              <div class="note-list-content">
                <div class="note-list-title">ä¸»åŠ¨å­¦ä¹ ç­–ç•¥</div>
                <div class="note-list-meta">2å¤©å‰ Â· 1650å­—</div>
              </div>
              <div class="note-item-actions">
                <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                  â‹®
                </button>
              </div>
            </div>
            <div class="note-list-item" data-note-id="4">
              <div class="note-list-content">
                <div class="note-list-title">Python åŸºç¡€è¯­æ³•</div>
                <div class="note-list-meta">3å¤©å‰ Â· 3200å­—</div>
              </div>
              <div class="note-item-actions">
                <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                  â‹®
                </button>
              </div>
            </div>
            <div class="note-list-item" data-note-id="5">
              <div class="note-list-content">
                <div class="note-list-title">æ•°æ®ç»“æ„ï¼šé“¾è¡¨</div>
                <div class="note-list-meta">5å¤©å‰ Â· 2800å­—</div>
              </div>
              <div class="note-item-actions">
                <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                  â‹®
                </button>
              </div>
            </div>
          </div>

          <!-- è§†å›¾ 2ï¼šæŒ‰åˆ†ç±» -->
          <div class="view-content" data-view="category" style="display: none;">
            <!-- åˆ†ç±»ï¼šå­¦ä¹ ç¬”è®° -->
            <div class="category-section">
              <div class="category-header" data-category="study">
                <div class="category-title-row">
                  <span class="category-title">ğŸ“š å­¦ä¹ ç¬”è®°</span>
                  <span class="category-count">12</span>
                </div>
                <div class="category-actions">
                  <button class="category-action-btn" title="æ–°å»ºç¬”è®°" data-action="new-note">
                    â•
                  </button>
                  <button class="category-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
              <div class="note-list-item" data-note-id="4">
                <div class="note-list-content">
                  <div class="note-list-title">Python åŸºç¡€è¯­æ³•</div>
                  <div class="note-list-meta">3å¤©å‰ Â· 3200å­—</div>
                </div>
                <div class="note-item-actions">
                  <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
              <div class="note-list-item" data-note-id="5">
                <div class="note-list-content">
                  <div class="note-list-title">æ•°æ®ç»“æ„ï¼šé“¾è¡¨</div>
                  <div class="note-list-meta">5å¤©å‰ Â· 2800å­—</div>
                </div>
                <div class="note-item-actions">
                  <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
            </div>

            <!-- åˆ†ç±»ï¼šé¡¹ç›®ç®¡ç† -->
            <div class="category-section">
              <div class="category-header" data-category="project">
                <div class="category-title-row">
                  <span class="category-title">ğŸ’¼ é¡¹ç›®ç®¡ç†</span>
                  <span class="category-count">8</span>
                </div>
                <div class="category-actions">
                  <button class="category-action-btn" title="æ–°å»ºç¬”è®°" data-action="new-note">
                    â•
                  </button>
                  <button class="category-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
              <div class="note-list-item" data-note-id="6">
                <div class="note-list-content">
                  <div class="note-list-title">æ•æ·å¼€å‘æ–¹æ³•è®º</div>
                  <div class="note-list-meta">1å‘¨å‰ Â· 2150å­—</div>
                </div>
                <div class="note-item-actions">
                  <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
              <div class="note-list-item" data-note-id="7">
                <div class="note-list-content">
                  <div class="note-list-title">Scrum æ¡†æ¶è¯¦è§£</div>
                  <div class="note-list-meta">1å‘¨å‰ Â· 1920å­—</div>
                </div>
                <div class="note-item-actions">
                  <button class="note-action-btn" title="æ›´å¤šæ“ä½œ" data-action="more">
                    â‹®
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- å³ä¾§ä¸»é¢æ¿ -->
      <main class="main-panel">
        <div class="panel-header">
          <div class="panel-header-left">
            <h2 class="panel-title">åº·å¥ˆå°”ç¬”è®°æ³•ä»‹ç»</h2>
            <div class="panel-meta">
              <span>ğŸ“… 2024-01-29</span>
              <span>ğŸ“ 2450 å­—</span>
              <span>â±ï¸ é¢„è®¡å¤ä¹  15 åˆ†é’Ÿ</span>
            </div>
          </div>
          <div class="panel-actions">
            <button class="btn btn-secondary">ğŸ“¤ åˆ†äº«</button>
            <button class="btn btn-primary" onclick="window.location.href='note-editor.html'">âœï¸ ç¼–è¾‘</button>
          </div>
        </div>

        <div class="panel-content">
          <!-- åº·å¥ˆå°”ç¬”è®°ä¸‰è¦ç´ é¢„è§ˆ -->
          <div class="cornell-preview">
            <!-- çº¿ç´¢æ  + ç¬”è®°æ  -->
            <div class="cornell-preview-top">
              <!-- çº¿ç´¢æ ï¼ˆå·¦ä¾§ 25%ï¼‰ -->
              <div class="cornell-cue-section">
                <div class="cornell-section-label">ğŸ“Œ çº¿ç´¢æ </div>
                <div class="cornell-section-content">
                  <div class="cue-item">åº·å¥ˆå°”ç¬”è®°æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</div>
                  <div class="cue-item">ä¸‰ä¸ªåŒºåŸŸåˆ†åˆ«æ˜¯ï¼Ÿ</div>
                  <div class="cue-item">5R æµç¨‹åŒ…æ‹¬ï¼Ÿ</div>
                  <div class="cue-item">çº¿ç´¢æ çš„ä½œç”¨ï¼Ÿ</div>
                </div>
              </div>

              <!-- ç¬”è®°æ ï¼ˆå³ä¾§ 75%ï¼‰ -->
              <div class="cornell-notes-section">
                <div class="cornell-section-label">ğŸ“ ç¬”è®°æ </div>
                <div class="cornell-section-content">
                  <p>åº·å¥ˆå°”ç¬”è®°æ³•æ˜¯ä¸€ç§ç³»ç»ŸåŒ–çš„ç¬”è®°æ–¹æ³•ï¼Œç”±åº·å¥ˆå°”å¤§å­¦æ•™æˆ Walter Pauk äº 1950 å¹´ä»£å‘æ˜ã€‚</p>
                  <p>è¯¥æ–¹æ³•å°†ç¬”è®°é¡µé¢åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p>
                  <ul style="margin-left: 16px; margin-bottom: 8px;">
                    <li>çº¿ç´¢æ ï¼ˆ25%ï¼‰- è®°å½•å…³é”®è¯å’Œé—®é¢˜</li>
                    <li>ç¬”è®°æ ï¼ˆ75%ï¼‰- è®°å½•ä¸»è¦å†…å®¹</li>
                    <li>æ€»ç»“æ ï¼ˆåº•éƒ¨ï¼‰- æ¦‚æ‹¬æ€»ç»“</li>
                  </ul>
                  <p>5R æµç¨‹ï¼šRecord â†’ Reduce â†’ Recite â†’ Reflect â†’ Review</p>
                </div>
              </div>
            </div>

            <!-- æ€»ç»“æ ï¼ˆåº•éƒ¨ï¼Œå…¨å®½ï¼‰ -->
            <div class="cornell-summary-section">
              <div class="cornell-section-label">âœ¨ æ€»ç»“æ </div>
              <div class="cornell-section-content">
                åº·å¥ˆå°”ç¬”è®°æ³•é€šè¿‡ä¸‰åŒºåŸŸè®¾è®¡å’Œ5Ræµç¨‹ï¼Œå¸®åŠ©å­¦ç”Ÿç³»ç»ŸåŒ–è®°å½•ã€æ•´ç†å’Œå¤ä¹ ç¬”è®°ï¼Œæé«˜å­¦ä¹ æ•ˆç‡å’ŒçŸ¥è¯†ä¿ç•™ç‡ã€‚çº¿ç´¢æ å¼•å¯¼æ€è€ƒï¼Œç¬”è®°æ è¯¦ç»†è®°å½•ï¼Œæ€»ç»“æ æ¦‚æ‹¬è¦ç‚¹ã€‚
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªï¼ˆä»…ç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰-->
  <nav class="bottom-nav" style="display: none;">
    <a href="index.html" class="bottom-nav-item active">
      <span style="font-size: 24px;">ğŸ </span>
      <span>é¦–é¡µ</span>
    </a>
    <a href="review.html" class="bottom-nav-item">
      <span style="font-size: 24px;">ğŸ“–</span>
      <span>å¤ä¹ </span>
    </a>
    <a href="#" class="bottom-nav-item">
      <span style="font-size: 24px;">ğŸ‘¥</span>
      <span>åä½œ</span>
    </a>
    <a href="profile.html" class="bottom-nav-item">
      <span style="font-size: 24px;">ğŸ‘¤</span>
      <span>æˆ‘çš„</span>
    </a>
  </nav>

  <!-- åˆ†ç±»ä¸Šä¸‹æ–‡èœå• -->
  <div class="context-menu" id="categoryContextMenu">
    <button class="context-menu-item" data-action="new-note">
      <span>â•</span>
      <span>æ–°å»ºç¬”è®°</span>
    </button>
    <button class="context-menu-item" data-action="rename">
      <span>âœï¸</span>
      <span>é‡å‘½å</span>
    </button>
    <div class="context-menu-divider"></div>
    <button class="context-menu-item danger" data-action="delete">
      <span>ğŸ—‘ï¸</span>
      <span>åˆ é™¤åˆ†ç±»</span>
    </button>
  </div>

  <!-- ç¬”è®°ä¸Šä¸‹æ–‡èœå• -->
  <div class="context-menu" id="noteContextMenu">
    <button class="context-menu-item" data-action="open">
      <span>ğŸ“„</span>
      <span>æ‰“å¼€</span>
    </button>
    <button class="context-menu-item" data-action="move">
      <span>ğŸ“</span>
      <span>ç§»åŠ¨åˆ°...</span>
    </button>
    <button class="context-menu-item" data-action="copy">
      <span>ğŸ“‹</span>
      <span>å¤åˆ¶</span>
    </button>
    <div class="context-menu-divider"></div>
    <button class="context-menu-item danger" data-action="delete">
      <span>ğŸ—‘ï¸</span>
      <span>åˆ é™¤</span>
    </button>
  </div>

  <!-- æ–°å»ºåˆ†ç±»æ¨¡æ€æ¡† -->
  <div class="modal" id="newCategoryModal">
    <div class="modal-content">
      <h2 class="modal-title">æ–°å»ºåˆ†ç±»</h2>
      <div class="modal-body">
        <input type="text" class="modal-input" id="categoryNameInput" placeholder="è¯·è¾“å…¥åˆ†ç±»åç§°" />
      </div>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-cancel" id="cancelNewCategory">å–æ¶ˆ</button>
        <button class="modal-btn modal-btn-primary" id="confirmNewCategory">ç¡®å®š</button>
      </div>
    </div>
  </div>

  <!-- ç§»åŠ¨ç¬”è®°æ¨¡æ€æ¡† -->
  <div class="modal" id="moveNoteModal">
    <div class="modal-content">
      <h2 class="modal-title">ç§»åŠ¨ç¬”è®°</h2>
      <div class="modal-body">
        <select class="modal-select" id="targetCategorySelect">
          <option value="">è¯·é€‰æ‹©ç›®æ ‡åˆ†ç±»</option>
          <option value="recent">ğŸ“ æœ€è¿‘ç¼–è¾‘</option>
          <option value="study">ğŸ“š å­¦ä¹ ç¬”è®°</option>
          <option value="project">ğŸ’¼ é¡¹ç›®ç®¡ç†</option>
        </select>
      </div>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-cancel" id="cancelMoveNote">å–æ¶ˆ</button>
        <button class="modal-btn modal-btn-primary" id="confirmMoveNote">ç§»åŠ¨</button>
      </div>
    </div>
  </div>

  <!-- é‡å‘½ååˆ†ç±»æ¨¡æ€æ¡† -->
  <div class="modal" id="renameCategoryModal">
    <div class="modal-content">
      <h2 class="modal-title">é‡å‘½ååˆ†ç±»</h2>
      <div class="modal-body">
        <input type="text" class="modal-input" id="renameCategoryInput" placeholder="è¯·è¾“å…¥æ–°åç§°" />
      </div>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-cancel" id="cancelRenameCategory">å–æ¶ˆ</button>
        <button class="modal-btn modal-btn-primary" id="confirmRenameCategory">ç¡®å®š</button>
      </div>
    </div>
  </div>

  <script>
    // å…¨å±€çŠ¶æ€
    let currentNoteId = null;
    let currentCategoryId = null;
    let currentView = 'recent';

    // ===== Tab åˆ‡æ¢ =====
    document.getElementById('recentTab').addEventListener('click', () => {
      switchView('recent');
    });

    document.getElementById('categoryTab').addEventListener('click', () => {
      switchView('category');
    });

    function switchView(view) {
      // æ›´æ–°Tabæ ·å¼
      document.querySelectorAll('.view-tab').forEach(tab => {
        if (tab.dataset.view === view) {
          tab.classList.add('active');
        } else {
          tab.classList.remove('active');
        }
      });

      // éšè—"æ–°å»ºåˆ†ç±»"æŒ‰é’®ï¼ˆä»…åˆ†ç±»æ¨¡å¼éœ€è¦ï¼‰
      const newCategoryBtn = document.getElementById('newCategoryBtn');
      newCategoryBtn.style.display = view === 'category' ? 'flex' : 'none';

      // åˆ‡æ¢å†…å®¹è§†å›¾
      document.querySelectorAll('.view-content').forEach(content => {
        content.style.display = content.dataset.view === view ? 'block' : 'none';
      });

      currentView = view;
      console.log('åˆ‡æ¢è§†å›¾:', view);
    }

    // åˆå§‹åŒ–ï¼šæœ€è¿‘ç¼–è¾‘è§†å›¾ä¸‹éšè—"æ–°å»ºåˆ†ç±»"æŒ‰é’®
    document.getElementById('newCategoryBtn').style.display = 'none';

    // ===== æœç´¢åŠŸèƒ½ =====
    document.querySelector('.search-input').addEventListener('input', (e) => {
      console.log('æœç´¢:', e.target.value);
    });

    // ===== ç¬”è®°åˆ—è¡¨é¡¹ç‚¹å‡» =====
    document.querySelectorAll('.note-list-item').forEach(item => {
      item.addEventListener('click', (e) => {
        // å¦‚æœç‚¹å‡»çš„æ˜¯æ“ä½œæŒ‰é’®ï¼Œä¸è§¦å‘åˆ—è¡¨é¡¹ç‚¹å‡»
        if (e.target.closest('.note-action-btn')) return;

        document.querySelectorAll('.note-list-item').forEach(i => i.classList.remove('active'));
        item.classList.add('active');
        const title = item.querySelector('.note-list-title').textContent;
        console.log('åˆ‡æ¢ç¬”è®°:', title);
      });
    });

    // ===== ç»Ÿè®¡å¡ç‰‡ç‚¹å‡» =====
    document.querySelectorAll('.stat-card').forEach(card => {
      card.addEventListener('click', () => {
        const label = card.querySelector('.stat-label').textContent;
        console.log('æŸ¥çœ‹ç»Ÿè®¡:', label);
      });
    });

    // ===== æ–°å»ºåˆ†ç±»æŒ‰é’® =====
    document.getElementById('newCategoryBtn').addEventListener('click', () => {
      showModal('newCategoryModal');
    });

    // ===== åˆ†ç±»æ“ä½œæŒ‰é’® =====
    document.querySelectorAll('.category-header .category-action-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const action = btn.dataset.action;
        const categoryHeader = btn.closest('.category-header');
        const category = categoryHeader.dataset.category;

        if (action === 'new-note') {
          console.log('åœ¨åˆ†ç±»ä¸­æ–°å»ºç¬”è®°:', category);
          alert(`åœ¨"${categoryHeader.querySelector('.category-title').textContent}"åˆ†ç±»ä¸‹æ–°å»ºç¬”è®°`);
          window.location.href = 'note-editor.html';
        } else if (action === 'more') {
          currentCategoryId = category;
          showContextMenu('categoryContextMenu', e);
        }
      });
    });

    // ===== ç¬”è®°æ“ä½œæŒ‰é’® =====
    document.querySelectorAll('.note-action-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const noteItem = btn.closest('.note-list-item');
        currentNoteId = noteItem.dataset.noteId;
        showContextMenu('noteContextMenu', e);
      });
    });

    // ===== ä¸Šä¸‹æ–‡èœå• =====
    function showContextMenu(menuId, event) {
      const menu = document.getElementById(menuId);

      // éšè—æ‰€æœ‰ä¸Šä¸‹æ–‡èœå•
      document.querySelectorAll('.context-menu').forEach(m => m.classList.remove('show'));

      // æ˜¾ç¤ºç›®æ ‡èœå•
      menu.classList.add('show');

      // å®šä½èœå•
      const x = event.clientX;
      const y = event.clientY;
      menu.style.left = `${x}px`;
      menu.style.top = `${y}px`;
    }

    // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹å…³é—­ä¸Šä¸‹æ–‡èœå•
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.context-menu') && !e.target.closest('.category-action-btn') && !e.target.closest('.note-action-btn')) {
        document.querySelectorAll('.context-menu').forEach(menu => {
          menu.classList.remove('show');
        });
      }
    });

    // ===== åˆ†ç±»ä¸Šä¸‹æ–‡èœå•æ“ä½œ =====
    document.querySelectorAll('#categoryContextMenu .context-menu-item').forEach(item => {
      item.addEventListener('click', () => {
        const action = item.dataset.action;
        hideAllContextMenus();

        if (action === 'new-note') {
          console.log('æ–°å»ºç¬”è®°');
          window.location.href = 'note-editor.html';
        } else if (action === 'rename') {
          showModal('renameCategoryModal');
        } else if (action === 'delete') {
          if (confirm('ç¡®å®šè¦åˆ é™¤æ­¤åˆ†ç±»å—ï¼Ÿåˆ†ç±»ä¸‹çš„ç¬”è®°å°†ç§»è‡³"æœªåˆ†ç±»"ã€‚')) {
            console.log('åˆ é™¤åˆ†ç±»:', currentCategoryId);
          }
        }
      });
    });

    // ===== ç¬”è®°ä¸Šä¸‹æ–‡èœå•æ“ä½œ =====
    document.querySelectorAll('#noteContextMenu .context-menu-item').forEach(item => {
      item.addEventListener('click', () => {
        const action = item.dataset.action;
        hideAllContextMenus();

        if (action === 'open') {
          window.location.href = 'note-editor.html';
        } else if (action === 'move') {
          showModal('moveNoteModal');
        } else if (action === 'copy') {
          console.log('å¤åˆ¶ç¬”è®°:', currentNoteId);
          alert('ç¬”è®°å·²å¤åˆ¶');
        } else if (action === 'delete') {
          if (confirm('ç¡®å®šè¦åˆ é™¤æ­¤ç¬”è®°å—ï¼Ÿ')) {
            console.log('åˆ é™¤ç¬”è®°:', currentNoteId);
          }
        }
      });
    });

    // ===== æ¨¡æ€æ¡†æ“ä½œ =====
    function showModal(modalId) {
      document.getElementById(modalId).classList.add('show');
    }

    function hideModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
    }

    function hideAllContextMenus() {
      document.querySelectorAll('.context-menu').forEach(menu => {
        menu.classList.remove('show');
      });
    }

    // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          hideModal(modal.id);
        }
      });
    });

    // ===== æ–°å»ºåˆ†ç±»æ¨¡æ€æ¡† =====
    document.getElementById('cancelNewCategory').addEventListener('click', () => {
      hideModal('newCategoryModal');
      document.getElementById('categoryNameInput').value = '';
    });

    document.getElementById('confirmNewCategory').addEventListener('click', () => {
      const name = document.getElementById('categoryNameInput').value.trim();
      if (!name) {
        alert('è¯·è¾“å…¥åˆ†ç±»åç§°');
        return;
      }
      console.log('åˆ›å»ºåˆ†ç±»:', name);
      hideModal('newCategoryModal');
      document.getElementById('categoryNameInput').value = '';
      alert(`åˆ†ç±»"${name}"å·²åˆ›å»º`);
    });

    // ===== ç§»åŠ¨ç¬”è®°æ¨¡æ€æ¡† =====
    document.getElementById('cancelMoveNote').addEventListener('click', () => {
      hideModal('moveNoteModal');
    });

    document.getElementById('confirmMoveNote').addEventListener('click', () => {
      const targetCategory = document.getElementById('targetCategorySelect').value;
      if (!targetCategory) {
        alert('è¯·é€‰æ‹©ç›®æ ‡åˆ†ç±»');
        return;
      }
      console.log('ç§»åŠ¨ç¬”è®°åˆ°:', targetCategory);
      hideModal('moveNoteModal');
      alert('ç¬”è®°å·²ç§»åŠ¨');
    });

    // ===== é‡å‘½ååˆ†ç±»æ¨¡æ€æ¡† =====
    document.getElementById('cancelRenameCategory').addEventListener('click', () => {
      hideModal('renameCategoryModal');
      document.getElementById('renameCategoryInput').value = '';
    });

    document.getElementById('confirmRenameCategory').addEventListener('click', () => {
      const newName = document.getElementById('renameCategoryInput').value.trim();
      if (!newName) {
        alert('è¯·è¾“å…¥æ–°åç§°');
        return;
      }
      console.log('é‡å‘½ååˆ†ç±»ä¸º:', newName);
      hideModal('renameCategoryModal');
      document.getElementById('renameCategoryInput').value = '';
      alert(`åˆ†ç±»å·²é‡å‘½åä¸º"${newName}"`);
    });

    // ===== Enteré”®æäº¤ =====
    document.getElementById('categoryNameInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        document.getElementById('confirmNewCategory').click();
      }
    });

    document.getElementById('renameCategoryInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        document.getElementById('confirmRenameCategory').click();
      }
    });

    console.log('ç¬”è®°åˆ—è¡¨é¡µé¢å·²åŠ è½½ï¼ˆå¢å¼ºç‰ˆï¼‰');
  </script>
</body>
</html>
